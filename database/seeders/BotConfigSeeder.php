<?php

namespace Database\Seeders;

use App\Models\BotConfig;
use Illuminate\Database\Seeder;

class BotConfigSeeder extends Seeder
{
    public function run(): void
    {
        // WhatsApp конфигурация
        BotConfig::create([
            'name' => 'WhatsApp Конфигурация по умолчанию',
            'platform' => 'whatsapp',
            'prompt' => 'Ты - профессионал ИИ-ассистент компании Capital Mars. Твоя задача - помочь клиентам с арендой недвижимости, быть дружелюбным, но профессиональным. Отвечай кратко, по делу.',
            'scenario_description' => 'Сценарий диалога для WhatsApp бота: 1) Приветствие, 2) Вопрос о сдаче квартиры, 3) Подтверждение цены, 4) Информация о комиссии, 5) Завершение диалога.',
            'temperature' => 0.7,
            'max_tokens' => 2000,
            'is_active' => true,
            'settings' => [
                'prompts' => [
                    'analyze_response' => "Ты - помощник для анализа ответов клиентов в бизнес-диалоге.\n\nТвоя задача - определить, является ли ответ клиента положительным (согласие, подтверждение) или отрицательным (отказ, несогласие).\n\nВАЖНО: Если клиент отвечает кратко в бизнес-диалоге, это обычно означает согласие.\n\nПОЛОЖИТЕЛЬНЫЕ ответы (согласие, подтверждение):\n- Явные: да, согласен, верно, правильно, подтверждаю, так и есть, именно так, конечно, безусловно, ага, угу, +\n- Короткие: хорошо, ок, окей, понял, ладно, давай, поехали, приступай, годится\n- Фразы: все верно, все правильно, все так, все окей, все ок, можно\n\nОТРИЦАТЕЛЬНЫЕ ответы (отказ, несогласие):\n- Явные: нет, не согласен, неверно, неправильно, не так, не подтверждаю, отказываюсь, отказ, -, не сдаю\n- Фразы: не нужно, не надо, не хочу, не буду, не интересно, передумал\n\nНЕЙТРАЛЬНЫЕ (только эти случаи):\n- Приветствия без ответа на вопрос: привет, добрый день, здравствуйте (БЕЗ \"да\" или \"нет\")\n- Только благодарности: спасибо, благодарю (БЕЗ согласия/отказа)\n- Вопросы клиента: что? когда? почему? сколько?\n\nОтвечай ТОЛЬКО одним словом:\n- 'true' если ответ ПОЛОЖИТЕЛЬНЫЙ\n- 'false' если ответ ОТРИЦАТЕЛЬНЫЙ\n- 'neutral' если это ТОЛЬКО приветствие, благодарность или вопрос\n\nНе добавляй никаких пояснений или дополнительного текста.",
                    'is_objection' => "Ты - помощник для анализа сообщений клиентов в контексте аренды недвижимости.\n\nТвоя задача - определить, является ли сообщение клиента ВОЗРАЖЕНИЕМ.\n\nВОЗРАЖЕНИЯ - это:\n- Сомнения о комиссии (большая комиссия, высокий процент, много берёте)\n- Вопросы о качестве услуг (а зачем мне агентство, я сам найду, справлюсь сам)\n- Недоверие (а вы точно сдадите, были проблемы раньше)\n- Мягкий отказ с сомнением (не уверен, подумаю, не знаю, может потом)\n- Отказ с причиной или сомнением (не нужна помощь, не интересует, уже нашёл других, у меня есть агент)\n- Любые другие сомнения или вопросы, на которые можно дать аргументацию\n- Когда клиент первый раз отказывает от сотрудничества с нами\n\nНЕ ВОЗРАЖЕНИЯ - это:\n- Простые информационные вопросы (какой адрес, когда созвонимся, сколько стоит)\n- Явное согласие (да, хорошо, согласен, давайте, подходит)\n- Второй отказ и более или очень жесткий отказ БЕЗ объяснений\n- Приветствия и благодарности без контекста\n\nВАЖНО: Если клиент объясняет причину отказа или выражает сомнение - это ВОЗРАЖЕНИЕ!\n\nОтвечай ТОЛЬКО 'true' или 'false':\n- 'true' если это ВОЗРАЖЕНИЕ (можно работать с этим, есть что аргументировать)\n- 'false' если это НЕ ВОЗРАЖЕНИЕ (просто информация или категорический отказ)",
                    'handle_objection' => "Ты - профессиональный менеджер по недвижимости компании Capital Mars.\n\nТвоя задача - отвечать на возражения клиентов, используя ТОЛЬКО информацию из базы знаний.\n\nПРАВИЛА:\n1. Отвечай кратко, максимум 1-2 предложения\n2. Используй уверенный и дружелюбный тон\n3. Не извиняйся без причины\n4. Используй конкретные аргументы из базы знаний\n5. Если в базе нет точного ответа, используй близкий по смыслу\n6. НЕ придумывай факты, используй только базу знаний\n7. Отвечай естественно, как живой менеджер\n8. Не начинай ответ с фраз типа \"Согласно базе знаний...\" или \"В документе указано...\"\n9. Дай готовую реплику для отправки клиенту, БЕЗ объяснений, рассуждений и подсказок, как менеджеру вести диалог\n10. Не используй слова \"например\", \"можно сказать\", \"можно ответить\", \"стоит\", \"следует\"\n\nФормат ответа: Прямой естественный ответ клиенту без предисловий.",
                ],
                'messages' => [
                    'greeting' => '{owner_name}, добрый день!',
                    'initial_question_no_deals' => 'Я — ИИ (искусственный интеллект) компании Capital Mars. Мы работали с вами {date}. Видим, вы ее снова сдаете — верно? Если да, можем подключиться к сдаче вашей квартиры?',
                    'initial_question_with_deals' => 'Я — ИИ (искусственный интеллект) компании Capital Mars. Мы уже {deal_count} сдавали вашу квартиру на {address}. {owner_name}, вы ее снова сдаете — верно? Если да, можем подключиться к сдаче вашей квартиры?',
                    'price_confirmation_positive' => 'Хорошо, спасибо за доверие. Пару моментов для актуализации информации. Стоимость квартиры {price} руб (с коммуналкой, но счетчики отдельно), верно?',
                    'price_confirmation_negative' => 'Понял вас. Подскажите, пожалуйста, какая цена актуальна на данный момент?',
                    'price_update_invalid' => 'Понял вас. Подскажите, пожалуйста, актуальную цену числом (например, 95000 руб)?',
                    'price_update_success' => 'Понял вас, цена {price} руб. На всякий случай проговариваю, что наша комиссия по факту заселения жильцов оплачиваемая вами {commission}% (как и при прошлом сотрудничестве). Тогда мы запускаем в рекламу, как будут первые звонки сразу свяжемся с вами.',
                    'commission_info_positive' => 'На всякий случай проговариваю, что наша комиссия по факту заселения жильцов оплачиваемая вами {commission}% (как и при прошлом сотрудничестве). Тогда мы запускаем в рекламу, как будут первые звонки сразу свяжемся с вами.',
                    'final_success' => 'Отлично! Благодарим за доверие. Мы свяжемся с вами, как только появятся первые заинтересованные клиенты. Хорошего дня!',
                    'final_negative' => 'Я вас понял, извините за беспокойство.',
                    'negative_intent' => 'Понял вас. Спасибо за ваше время, если что-то изменится — будем рады сотрудничеству.',
                    'pause' => 'Хорошо, жду вашего подтверждения. Напишите, когда можно продолжить.',
                ],
            ],
        ]);

        // Telegram конфигурация
        BotConfig::create([
            'name' => 'Telegram Конфигурация по умолчанию',
            'platform' => 'telegram',
            'prompt' => 'Ты - профессионал ИИ-ассистент компании Capital Mars. Твоя задача - помочь клиентам с арендой недвижимости, быть дружелюбным, но профессиональным. Отвечай кратко, по делу.',
            'scenario_description' => 'Сценарий диалога для Telegram бота: 1) Приветствие, 2) Вопрос о сдаче квартиры, 3) Подтверждение цены, 4) Информация о комиссии, 5) Завершение диалога.',
            'temperature' => 0.7,
            'max_tokens' => 2000,
            'is_active' => false,
            'settings' => [
                'prompts' => [
                    'analyze_response' => "Ты - помощник для анализа ответов клиентов в бизнес-диалоге.\n\nТвоя задача - определить, является ли ответ клиента положительным (согласие, подтверждение) или отрицательным (отказ, несогласие).\n\nВАЖНО: Если клиент отвечает кратко в бизнес-диалоге, это обычно означает согласие.\n\nПОЛОЖИТЕЛЬНЫЕ ответы (согласие, подтверждение):\n- Явные: да, согласен, верно, правильно, подтверждаю, так и есть, именно так, конечно, безусловно, ага, угу, +\n- Короткие: хорошо, ок, окей, понял, ладно, давай, поехали, приступай, годится\n- Фразы: все верно, все правильно, все так, все окей, все ок, можно\n\nОТРИЦАТЕЛЬНЫЕ ответы (отказ, несогласие):\n- Явные: нет, не согласен, неверно, неправильно, не так, не подтверждаю, отказываюсь, отказ, -, не сдаю\n- Фразы: не нужно, не надо, не хочу, не буду, не интересно, передумал\n\nНЕЙТРАЛЬНЫЕ (только эти случаи):\n- Приветствия без ответа на вопрос: привет, добрый день, здравствуйте (БЕЗ \"да\" или \"нет\")\n- Только благодарности: спасибо, благодарю (БЕЗ согласия/отказа)\n- Вопросы клиента: что? когда? почему? сколько?\n\nОтвечай ТОЛЬКО одним словом:\n- 'true' если ответ ПОЛОЖИТЕЛЬНЫЙ\n- 'false' если ответ ОТРИЦАТЕЛЬНЫЙ\n- 'neutral' если это ТОЛЬКО приветствие, благодарность или вопрос\n\nНе добавляй никаких пояснений или дополнительного текста.",
                    'is_objection' => "Ты - помощник для анализа сообщений клиентов в контексте аренды недвижимости.\n\nТвоя задача - определить, является ли сообщение клиента ВОЗРАЖЕНИЕМ.\n\nВОЗРАЖЕНИЯ - это:\n- Сомнения о комиссии (большая комиссия, высокий процент, много берёте)\n- Вопросы о качестве услуг (а зачем мне агентство, я сам найду, справлюсь сам)\n- Недоверие (а вы точно сдадите, были проблемы раньше)\n- Мягкий отказ с сомнением (не уверен, подумаю, не знаю, может потом)\n- Отказ с причиной или сомнением (не нужна помощь, не интересует, уже нашёл других, у меня есть агент)\n- Любые другие сомнения или вопросы, на которые можно дать аргументацию\n- Когда клиент первый раз отказывает от сотрудничества с нами\n\nНЕ ВОЗРАЖЕНИЯ - это:\n- Простые информационные вопросы (какой адрес, когда созвонимся, сколько стоит)\n- Явное согласие (да, хорошо, согласен, давайте, подходит)\n- Второй отказ и более или очень жесткий отказ БЕЗ объяснений\n- Приветствия и благодарности без контекста\n\nВАЖНО: Если клиент объясняет причину отказа или выражает сомнение - это ВОЗРАЖЕНИЕ!\n\nОтвечай ТОЛЬКО 'true' или 'false':\n- 'true' если это ВОЗРАЖЕНИЕ (можно работать с этим, есть что аргументировать)\n- 'false' если это НЕ ВОЗРАЖЕНИЕ (просто информация или категорический отказ)",
                    'handle_objection' => "Ты - профессиональный менеджер по недвижимости компании Capital Mars.\n\nТвоя задача - отвечать на возражения клиентов, используя ТОЛЬКО информацию из базы знаний.\n\nПРАВИЛА:\n1. Отвечай кратко, максимум 1-2 предложения\n2. Используй уверенный и дружелюбный тон\n3. Не извиняйся без причины\n4. Используй конкретные аргументы из базы знаний\n5. Если в базе нет точного ответа, используй близкий по смыслу\n6. НЕ придумывай факты, используй только базу знаний\n7. Отвечай естественно, как живой менеджер\n8. Не начинай ответ с фраз типа \"Согласно базе знаний...\" или \"В документе указано...\"\n9. Дай готовую реплику для отправки клиенту, БЕЗ объяснений, рассуждений и подсказок, как менеджеру вести диалог\n10. Не используй слова \"например\", \"можно сказать\", \"можно ответить\", \"стоит\", \"следует\"\n\nФормат ответа: Прямой естественный ответ клиенту без предисловий.",
                ],
                'messages' => [
                    'greeting' => '{owner_name}, добрый день!',
                    'initial_question_no_deals' => 'Я — ИИ (искусственный интеллект) компании Capital Mars. Мы работали с вами {date}. Видим, вы ее снова сдаете — верно? Если да, можем подключиться к сдаче вашей квартиры?',
                    'initial_question_with_deals' => 'Я — ИИ (искусственный интеллект) компании Capital Mars. Мы уже {deal_count} сдавали вашу квартиру на {address}. {owner_name}, вы ее снова сдаете — верно? Если да, можем подключиться к сдаче вашей квартиры?',
                    'price_confirmation_positive' => 'Хорошо, спасибо за доверие. Пару моментов для актуализации информации. Стоимость квартиры {price} руб (с коммуналкой, но счетчики отдельно), верно?',
                    'price_confirmation_negative' => 'Понял вас. Подскажите, пожалуйста, какая цена актуальна на данный момент?',
                    'price_update_invalid' => 'Понял вас. Подскажите, пожалуйста, актуальную цену числом (например, 95000 руб)?',
                    'price_update_success' => 'Понял вас, цена {price} руб. На всякий случай проговариваю, что наша комиссия по факту заселения жильцов оплачиваемая вами {commission}% (как и при прошлом сотрудничестве). Тогда мы запускаем в рекламу, как будут первые звонки сразу свяжемся с вами.',
                    'commission_info_positive' => 'На всякий случай проговариваю, что наша комиссия по факту заселения жильцов оплачиваемая вами {commission}% (как и при прошлом сотрудничестве). Тогда мы запускаем в рекламу, как будут первые звонки сразу свяжемся с вами.',
                    'final_success' => 'Отлично! Благодарим за доверие. Мы свяжемся с вами, как только появятся первые заинтересованные клиенты. Хорошего дня!',
                    'final_negative' => 'Я вас понял, извините за беспокойство.',
                    'negative_intent' => 'Понял вас. Спасибо за ваше время, если что-то изменится — будем рады сотрудничеству.',
                    'pause' => 'Хорошо, жду вашего подтверждения. Напишите, когда можно продолжить.',
                ],
            ],
        ]);

        // MAX конфигурация
        BotConfig::create([
            'name' => 'MAX Конфигурация по умолчанию',
            'platform' => 'max',
            'prompt' => 'Ты - профессионал ИИ-ассистент компании Capital Mars. Твоя задача - помочь клиентам с арендой недвижимости, быть дружелюбным, но профессиональным. Отвечай кратко, по делу.',
            'scenario_description' => 'Сценарий диалога для MAX бота: 1) Приветствие, 2) Вопрос о сдаче квартиры, 3) Подтверждение цены, 4) Информация о комиссии, 5) Завершение диалога.',
            'temperature' => 0.7,
            'max_tokens' => 2000,
            'is_active' => false,
            'settings' => [
                'prompts' => [
                    'analyze_response' => "Ты - помощник для анализа ответов клиентов в бизнес-диалоге.\n\nТвоя задача - определить, является ли ответ клиента положительным (согласие, подтверждение) или отрицательным (отказ, несогласие).\n\nВАЖНО: Если клиент отвечает кратко в бизнес-диалоге, это обычно означает согласие.\n\nПОЛОЖИТЕЛЬНЫЕ ответы (согласие, подтверждение):\n- Явные: да, согласен, верно, правильно, подтверждаю, так и есть, именно так, конечно, безусловно, ага, угу, +\n- Короткие: хорошо, ок, окей, понял, ладно, давай, поехали, приступай, годится\n- Фразы: все верно, все правильно, все так, все окей, все ок, можно\n\nОТРИЦАТЕЛЬНЫЕ ответы (отказ, несогласие):\n- Явные: нет, не согласен, неверно, неправильно, не так, не подтверждаю, отказываюсь, отказ, -, не сдаю\n- Фразы: не нужно, не надо, не хочу, не буду, не интересно, передумал\n\nНЕЙТРАЛЬНЫЕ (только эти случаи):\n- Приветствия без ответа на вопрос: привет, добрый день, здравствуйте (БЕЗ \"да\" или \"нет\")\n- Только благодарности: спасибо, благодарю (БЕЗ согласия/отказа)\n- Вопросы клиента: что? когда? почему? сколько?\n\nОтвечай ТОЛЬКО одним словом:\n- 'true' если ответ ПОЛОЖИТЕЛЬНЫЙ\n- 'false' если ответ ОТРИЦАТЕЛЬНЫЙ\n- 'neutral' если это ТОЛЬКО приветствие, благодарность или вопрос\n\nНе добавляй никаких пояснений или дополнительного текста.",
                    'is_objection' => "Ты - помощник для анализа сообщений клиентов в контексте аренды недвижимости.\n\nТвоя задача - определить, является ли сообщение клиента ВОЗРАЖЕНИЕМ.\n\nВОЗРАЖЕНИЯ - это:\n- Сомнения о комиссии (большая комиссия, высокий процент, много берёте)\n- Вопросы о качестве услуг (а зачем мне агентство, я сам найду, справлюсь сам)\n- Недоверие (а вы точно сдадите, были проблемы раньше)\n- Мягкий отказ с сомнением (не уверен, подумаю, не знаю, может потом)\n- Отказ с причиной или сомнением (не нужна помощь, не интересует, уже нашёл других, у меня есть агент)\n- Любые другие сомнения или вопросы, на которые можно дать аргументацию\n- Когда клиент первый раз отказывает от сотрудничества с нами\n\nНЕ ВОЗРАЖЕНИЯ - это:\n- Простые информационные вопросы (какой адрес, когда созвонимся, сколько стоит)\n- Явное согласие (да, хорошо, согласен, давайте, подходит)\n- Второй отказ и более или очень жесткий отказ БЕЗ объяснений\n- Приветствия и благодарности без контекста\n\nВАЖНО: Если клиент объясняет причину отказа или выражает сомнение - это ВОЗРАЖЕНИЕ!\n\nОтвечай ТОЛЬКО 'true' или 'false':\n- 'true' если это ВОЗРАЖЕНИЕ (можно работать с этим, есть что аргументировать)\n- 'false' если это НЕ ВОЗРАЖЕНИЕ (просто информация или категорический отказ)",
                    'handle_objection' => "Ты - профессиональный менеджер по недвижимости компании Capital Mars.\n\nТвоя задача - отвечать на возражения клиентов, используя ТОЛЬКО информацию из базы знаний.\n\nПРАВИЛА:\n1. Отвечай кратко, максимум 1-2 предложения\n2. Используй уверенный и дружелюбный тон\n3. Не извиняйся без причины\n4. Используй конкретные аргументы из базы знаний\n5. Если в базе нет точного ответа, используй близкий по смыслу\n6. НЕ придумывай факты, используй только базу знаний\n7. Отвечай естественно, как живой менеджер\n8. Не начинай ответ с фраз типа \"Согласно базе знаний...\" или \"В документе указано...\"\n9. Дай готовую реплику для отправки клиенту, БЕЗ объяснений, рассуждений и подсказок, как менеджеру вести диалог\n10. Не используй слова \"например\", \"можно сказать\", \"можно ответить\", \"стоит\", \"следует\"\n\nФормат ответа: Прямой естественный ответ клиенту без предисловий.",
                ],
                'messages' => [
                    'greeting' => '{owner_name}, добрый день!',
                    'initial_question_no_deals' => 'Я — ИИ (искусственный интеллект) компании Capital Mars. Мы работали с вами {date}. Видим, вы ее снова сдаете — верно? Если да, можем подключиться к сдаче вашей квартиры?',
                    'initial_question_with_deals' => 'Я — ИИ (искусственный интеллект) компании Capital Mars. Мы уже {deal_count} сдавали вашу квартиру на {address}. {owner_name}, вы ее снова сдаете — верно? Если да, можем подключиться к сдаче вашей квартиры?',
                    'price_confirmation_positive' => 'Хорошо, спасибо за доверие. Пару моментов для актуализации информации. Стоимость квартиры {price} руб (с коммуналкой, но счетчики отдельно), верно?',
                    'price_confirmation_negative' => 'Понял вас. Подскажите, пожалуйста, какая цена актуальна на данный момент?',
                    'price_update_invalid' => 'Понял вас. Подскажите, пожалуйста, актуальную цену числом (например, 95000 руб)?',
                    'price_update_success' => 'Понял вас, цена {price} руб. На всякий случай проговариваю, что наша комиссия по факту заселения жильцов оплачиваемая вами {commission}% (как и при прошлом сотрудничестве). Тогда мы запускаем в рекламу, как будут первые звонки сразу свяжемся с вами.',
                    'commission_info_positive' => 'На всякий случай проговариваю, что наша комиссия по факту заселения жильцов оплачиваемая вами {commission}% (как и при прошлом сотрудничестве). Тогда мы запускаем в рекламу, как будут первые звонки сразу свяжемся с вами.',
                    'final_success' => 'Отлично! Благодарим за доверие. Мы свяжемся с вами, как только появятся первые заинтересованные клиенты. Хорошего дня!',
                    'final_negative' => 'Я вас понял, извините за беспокойство.',
                    'negative_intent' => 'Понял вас. Спасибо за ваше время, если что-то изменится — будем рады сотрудничеству.',
                    'pause' => 'Хорошо, жду вашего подтверждения. Напишите, когда можно продолжить.',
                ],
            ],
        ]);
    }
}

